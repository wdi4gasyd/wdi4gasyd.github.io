var wizGame={phaser:void 0,player:void 0,imgPath:"images/",movement:{tolerance:5,destX:void 0,destY:void 0}},runGame=function(){function e(){var e=Math.floor(10*Math.random());wizGame.phaser.load.image("background",wizGame.imgPath+"background-V2.jpg"),wizGame.phaser.load.spritesheet("player",wizGame.imgPath+"player"+e+".png",32,32),wizGame.phaser.load.spritesheet("powerup",wizGame.imgPath+"powerup.png",80,74),wizGame.phaser.load.image("reset-button",wizGame.imgPath+"reset-button.png"),wizGame.phaser.load.image("contact-button",wizGame.imgPath+"contact-button.png"),wizGame.phaser.load.spritesheet("baddie",wizGame.imgPath+"baddie.png",32,32),wizGame.phaser.load.spritesheet("explosion",wizGame.imgPath+"explode.png",128,128),wizGame.phaser.load.spritesheet("butterfly",wizGame.imgPath+"butterfly2.png",70,65),wizGame.phaser.load.spritesheet("Joel",wizGame.imgPath+"butterfly.png",80,80),wizGame.phaser.load.spritesheet("Erik",wizGame.imgPath+"eriksprite.png",32,58),wizGame.phaser.load.spritesheet("Mark",wizGame.imgPath+"butterfly.png",80,80),wizGame.phaser.load.spritesheet("Simon",wizGame.imgPath+"butterfly.png",80,80),wizGame.phaser.load.spritesheet("Nix",wizGame.imgPath+"butterfly.png",80,80),wizGame.phaser.load.spritesheet("Anne",wizGame.imgPath+"butterfly.png",80,80),wizGame.phaser.load.spritesheet("Charlie",wizGame.imgPath+"butterfly.png",80,80),wizGame.phaser.load.spritesheet("Kriss",wizGame.imgPath+"butterfly.png",80,80),wizGame.phaser.load.spritesheet("Olly",wizGame.imgPath+"butterfly.png",80,80),wizGame.phaser.load.spritesheet("Tom",wizGame.imgPath+"butterfly.png",80,80),wizGame.phaser.load.spritesheet("Mathilda",wizGame.imgPath+"butterfly.png",80,80),wizGame.phaser.load.spritesheet("purple-sq",wizGame.imgPath+"purple_sq.png",10,10)}function a(){function e(){var e=g.add.tween(S).to({x:40},2e3,Phaser.Easing.Sinusoidal.InOut,!0,0,Number.MAX_VALUE,!0);S.callAll("animations.play","animations","left"),setTimeout(a,2e3)}function a(){var a=g.add.tween(S).to({x:130},2e3,Phaser.Easing.Sinusoidal.InOut,!0,0,Number.MAX_VALUE,!0);S.callAll("animations.play","animations","right"),setTimeout(e,2e3)}function i(){var e=g.add.tween(baddies).to({x:50},2e3,Phaser.Easing.Sinusoidal.InOut,!0,0,Number.MAX_VALUE,!0);baddies.callAll("animations.play","animations","left"),setTimeout(t,2e3)}function t(){var e=g.add.tween(baddies).to({x:350},2e3,Phaser.Easing.Sinusoidal.InOut,!0,0,Number.MAX_VALUE,!0);baddies.callAll("animations.play","animations","right"),setTimeout(i,2e3)}wizGame.phaser.world.setBounds(0,0,2200,1650),g.add.sprite(0,0,"background"),wizGame.phaser.physics.startSystem(Phaser.Physics.ARCADE),this.LAST_SPOKE=0,G=g.add.sprite(200,g.world.height-150,"player"),wizGame.player=G,g.physics.arcade.enable(G),G.body.collideWorldBounds=!0,G.animations.add("left",[3,4,5],10,!0),G.animations.add("right",[6,7,8],10,!0),G.animations.add("up",[9,10,11],10,!0),G.animations.add("down",[0,1,2],10,!0),g.camera.follow(G);var o={250:650,2800:350,800:950,4300:700,1900:1e3,2105:90,4e3:200};A=g.add.group(),A.enableBody=!0;var l=0;for(var s in o){var n=A.create(parseInt(s),o[s],"butterfly");n.id="resumeItem"+l,l+=1}A.callAll("animations.add","animations","fly",[0,1,2,3,4,5,6,7,8,9],10,!0),A.callAll("animations.play","animations","fly"),wizGame.invisWalls=g.add.group(),wizGame.invisWalls.enableBody=!0,wizGame.invisWalls.alpha=0;var r=function(e,a,i,t){var o=wizGame.invisWalls.create(e,a,"purple-sq");o.body.immovable=!0,o.scale.x=i/10,o.scale.y=t/10};r(1,1182,416,12),r(386,1183,30,87),r(1,1377,413,24),r(385,1314,31,86),r(1,1139,368,28),r(343,988,26,178),r(1,720,368,21),r(343,740,25,159),r(1,671,362,43),r(318,1,44,499),r(1,1,319,11),r(367,1,43,573),r(409,531,239,43),r(786,531,276,44),r(1030,1,33,530),r(1078,1,42,575),r(1120,531,8,45),r(1298,532,462,45),r(1725,1,34,531),r(1815,1,131,15),r(2048,1,152,15),r(1772,1,43,576),r(1815,538,127,39),r(2080,538,120,40),r(2097,589,103,38),r(1381,589,547,38),r(1380,626,43,516),r(1423,1106,303,37),r(1899,1107,301,36),r(2130,1325,70,29),r(1998,1326,88,29),r(1998,1354,12,296),r(1726,1324,106,36),r(1726,1360,14,290),r(1885,1324,105,36),r(1978,1360,12,291),r(1492,1387,94,33),r(1573,1418,13,232),r(1352,1388,94,31),r(1352,1419,13,231),r(1081,1322,104,35),r(1081,1357,14,293),r(1237,1321,104,36),r(1327,1357,14,293),P=g.add.sprite(250,1050,"Joel"),g.physics.arcade.enable(P),P.enableBody=!0,P.body.immovable=!0,I=g.add.sprite(250,950,"Erik"),g.physics.arcade.enable(I),I.enableBody=!0,I.body.immovable=!0,I.animations.add("talk",[0,1],5,!0),k=g.add.sprite(250,850,"Mark"),g.physics.arcade.enable(k),k.enableBody=!0,k.body.immovable=!0,D=g.add.sprite(250,750,"Simon"),g.physics.arcade.enable(D),D.enableBody=!0,D.body.immovable=!0,B=g.add.sprite(250,650,"Nix"),g.physics.arcade.enable(B),B.enableBody=!0,B.body.immovable=!0,M=g.add.sprite(250,550,"Anne"),g.physics.arcade.enable(M),M.enableBody=!0,M.body.immovable=!0,W=g.add.sprite(250,450,"Charlie"),g.physics.arcade.enable(W),W.enableBody=!0,W.body.immovable=!0,E=g.add.sprite(650,550,"Kriss"),g.physics.arcade.enable(E),E.enableBody=!0,E.body.immovable=!0,L=g.add.sprite(650,450,"Olly"),g.physics.arcade.enable(L),L.enableBody=!0,L.body.immovable=!0,O=g.add.sprite(650,350,"Tom"),g.physics.arcade.enable(O),O.enableBody=!0,O.body.immovable=!0,X=g.add.sprite(650,650,"Mathilda"),g.physics.arcade.enable(X),X.enableBody=!0,X.body.immovable=!0,S=g.add.group(),S.enableBody=!0;for(var d=0;9>d;d++){var m=S.create(540+700*d,400,"baddie");m.body.collideWorldBounds=!0,S.callAll("animations.add","animations","left",[0,1],10,!0),S.callAll("animations.add","animations","right",[2,3],10,!0)}baddies=g.add.group(),baddies.enableBody=!0;for(var d=0;4>d;d++){var p=baddies.create(400+900*d,400,"baddie");p.body.collideWorldBounds=!0,baddies.callAll("animations.add","animations","left",[0,1],10,!0),baddies.callAll("animations.add","animations","right",[2,3],10,!0)}e(),this.LIGHT_RADIUS=200,this.shadowTexture=this.game.add.bitmapData(this.world.width,this.world.height);var c=this.game.add.image(0,0,this.shadowTexture);c.blendMode=Phaser.blendModes.MULTIPLY,i(),C=g.add.text(16,16,"score: 0",{fontSize:"32px",fill:"#000"}),z=g.input.keyboard.createCursorKeys()}function i(){g.physics.arcade.collide(wizGame.player,wizGame.invisWalls),g.physics.arcade.overlap(G,A,u,null,this),g.physics.arcade.overlap(G,P,o,t,this),g.physics.arcade.overlap(G,I,l,t,this),g.physics.arcade.overlap(G,k,s,t,this),g.physics.arcade.overlap(G,D,n,t,this),g.physics.arcade.overlap(G,B,r,t,this),g.physics.arcade.overlap(G,M,d,t,this),g.physics.arcade.overlap(G,W,m,t,this),g.physics.arcade.overlap(G,E,p,t,this),g.physics.arcade.overlap(G,L,c,t,this),g.physics.arcade.overlap(G,O,h,t,this),g.physics.arcade.overlap(G,X,y,t,this),g.physics.arcade.overlap(G,S,b,null,this),g.physics.arcade.overlap(G,baddies,b,null,this),this.shadowTexture.context.fillStyle="rgb(100, 100, 100)",this.shadowTexture.context.fillRect(0,0,wizGame.phaser.world.width,wizGame.phaser.world.height);var e=this.shadowTexture.context.createRadialGradient(wizGame.player.world.x+16,wizGame.player.world.y+32,.75*this.LIGHT_RADIUS,wizGame.player.world.x+16,wizGame.player.world.y+32,this.LIGHT_RADIUS);e.addColorStop(0,"rgba(255, 255, 255, 1.0)"),e.addColorStop(1,"rgba(255, 255, 255, 0.0)"),this.shadowTexture.context.beginPath(),this.shadowTexture.context.fillStyle=e,this.shadowTexture.context.arc(wizGame.player.world.x+16,wizGame.player.world.y+32,this.LIGHT_RADIUS,0,2*Math.PI),this.shadowTexture.context.fill(),this.shadowTexture.dirty=!0,G.body.velocity.x=0,G.body.velocity.y=0,z.left.isDown?(G.body.velocity.x=-200,G.animations.play("left")):z.right.isDown?(G.body.velocity.x=200,G.animations.play("right")):z.up.isDown?(G.body.velocity.y=-200,G.animations.play("up")):z.down.isDown?(G.body.velocity.y=200,G.animations.play("down")):(G.animations.stop(),G.frame=1),g.input.mousePointer.isDown&&(console.log("click detected"),wizGame.movement.destX=g.input.worldX-wizGame.player.width/2,wizGame.movement.destY=g.input.worldY-wizGame.player.height/2,console.log(g.input.worldX,g.input.worldY)),"undefined"!=typeof wizGame.movement.destX&&(G.body.velocity.x=wizGame.movement.destX>wizGame.player.x+wizGame.movement.tolerance?200:wizGame.movement.destX<wizGame.player.x-wizGame.movement.tolerance?-200:0,G.body.velocity.y=wizGame.movement.destY>wizGame.player.y+wizGame.movement.tolerance?200:wizGame.movement.destY<wizGame.player.y-wizGame.movement.tolerance?-200:0)}function t(){return this.game.time.now>this.LAST_SPOKE+1500?(this.LAST_SPOKE=this.game.time.now,!0):!1}function o(e,a){function i(){g.world.remove(o)}joelStyle={font:"20px Arial",fill:"#fff",align:"center"};var t=['"Have the best time... seriously."','"Turn up the autism for that one."','"It\'s past 9am - R.I.P."'],o=g.add.text(300,1050,_.sample(t),joelStyle);setTimeout(i,1500)}function l(e,a){function i(){g.world.remove(o),a.animations.stop(),a.frame=0}erikStyle={font:"20px Arial",fill:"#fff",align:"center"};var t=['"Erik speaks about things."','"Erik speaks again"','"Eriks words of wisdom"'],o=g.add.text(350,950,_.sample(t),erikStyle);a.animations.play("talk"),setTimeout(i,1500)}function s(e,a){function i(){g.world.remove(o)}markStyle={font:"20px Arial",fill:"#fff",align:"center"};var t=['"This is Mark."','"I did the WDI course."','"Marks words of wisdom"'],o=g.add.text(300,850,_.sample(t),markStyle);setTimeout(i,1500)}function n(e,a){function i(){g.world.remove(o)}simonStyle={font:"20px Arial",fill:"#fff",align:"center"};var t=['"This is Simon."','"I did the WDI course."','"Simons words of wisdom"'],o=g.add.text(300,800,_.sample(t),simonStyle);setTimeout(i,1500)}function r(e,a){function i(){g.world.remove(o)}nixStyle={font:"20px Arial",fill:"#fff",align:"center"};var t=['"This is Nix."','"I did the WDI course."','"Nixs words of wisdom"'],o=g.add.text(300,700,_.sample(t),nixStyle);setTimeout(i,1500)}function d(e,a){function i(){g.world.remove(o)}anneStyle={font:"20px Arial",fill:"#fff",align:"center"};var t=['"This is Anne."','"I did the WDI course."','"Annes words of wisdom"'],o=g.add.text(300,600,_.sample(t),anneStyle);setTimeout(i,1500)}function m(e,a){function i(){g.world.remove(o)}charlieStyle={font:"20px Arial",fill:"#fff",align:"center"};var t=['"This is Charlie."','"I did the WDI course."','"Charlies words of wisdom"'],o=g.add.text(300,500,_.sample(t),charlieStyle);setTimeout(i,1500)}function p(e,a){function i(){g.world.remove(o)}krissStyle={font:"20px Arial",fill:"#fff",align:"center"};var t=['"This is Kriss."','"I did the WDI course."','"Kristos words of wisdom"'],o=g.add.text(700,600,_.sample(t),krissStyle);setTimeout(i,1500)}function c(e,a){function i(){g.world.remove(o)}ollyStyle={font:"20px Arial",fill:"#fff",align:"center"};var t=['"This is Olly."','"I did the WDI course."','"Ollys words of wisdom"'],o=g.add.text(700,500,_.sample(t),ollyStyle);setTimeout(i,1500)}function h(e,a){function i(){g.world.remove(o)}tomStyle={font:"20px Arial",fill:"#fff",align:"center"};var t=['"Hi I\'m Tom Dane, your friendly NPC."','"Thank you for finding me, but our princess is in another castle."','"I used to be a project manager, but then I took a WDI to the knee"'],o=g.add.text(700,400,_.sample(t),tomStyle);setTimeout(i,1500)}function y(e,a){function i(){g.world.remove(o)}mathildaStyle={font:"20px Arial",fill:"#fff",align:"center"};var t=['"This is Mathilda."','"I teach the WDI course."','"Mathildas words of wisdom"'],o=g.add.text(700,700,_.sample(t),mathildaStyle);setTimeout(i,1500)}function u(e,a){function i(){powerup.kill()}a.kill(),powerup=g.add.sprite(e.body.x-32,e.body.y,"powerup"),powerup.animations.add("collect",[0,1,2,3,4,5],50,!0),powerup.animations.play("collect"),setTimeout(i,300),Y+=1,g.world.remove(C),score_style={font:"20px Arial",fill:"#fff",align:"center"},C=g.add.text(20,20,"No. Butterflies: "+Y,score_style),C.fixedToCamera=!0}function f(){function e(){g.world.remove(butterfliesText)}Y>6?(w(),this.music.pause(),G.kill()):(wincheck_style={font:"50px Arial",fill:"#fff",align:"center"},butterfliesText=g.add.text(3950,620,"You've collected \n"+Y+" butterflies.\n\n You have "+(7-Y)+"\n more to catch.",wincheck_style),notice.play(""),setTimeout(e,1500))}function w(){function e(){v()}function a(){window.location="/contacts/"+x}style={font:"65px Arial",fill:"#fff",align:"center"},g.add.text(g.camera.x+325,g.camera.y+150,"You Win!",style),T=g.add.button(g.camera.x+275,g.camera.y+250,"reset-button",e,this),T=g.add.button(g.camera.x+475,g.camera.y+250,"contact-button",a,this),G.body.velocity.x=0,setTimeout(g.input.keyboard.disabled=!0,1e3),victory.play("")}function b(e,a){function i(){explosion.kill()}function t(){style={font:"65px Arial",fill:"#fff",align:"center"};var e=g.add.text(g.camera.x+450,g.camera.y+250,"You Lose! Try Again...",style);e.anchor.set(.5)}explosion=g.add.sprite(e.body.x-32,e.body.y-32,"explosion"),explosion.animations.add("run_explode",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],10,!0),explosion.animations.play("run_explode"),setTimeout(i,1500),setTimeout(t,1500),setTimeout(v,3e3),e.kill()}function v(){location.reload()}var g=new Phaser.Game(900,600,Phaser.AUTO,"phaser-canvas",{preload:e,create:a,update:i});wizGame.phaser=g;var x,G,z,T,A,S,P,I,k,D,B,M,W,E,L,O,X,Y=0,C};